so fortunately for us the comment update is going to be incredibly simple the only thing that we have to worry about is updating the existing comment we don't have to worry about the want to many relationship like we do when we actually create and the reason that we don't have to worry so much in the update is because the relationship's already been formed and if you're going to be making an update to a comment like you're going to edit a comment you're going to know the ID already so it's not as involv but I'll still explain it anyway let's just say our comment has an ID of two we're going to of course send up the Json so let's say we want to edit paler is very good we will send up the new Json along with the ID and of course we're going to still have to check to make sure that the comment exist will pass it the ID uh we'll run safe changes tracking will be locked in and the updates will occur uh for the existing record but let's go ahead let's hop in vs code and let's get coding on this okay so the first thing that we are going to do is we're going to go within our comment controller and we are going to make a put so first things first we'll do put and here we're going to have a route and this route is going to take in a string with curly braces ID we're still going to need that ID you I guess you could put it within the dco but I think in cases of updates you need to be very explicit because if you don't have that ID I guess somebody some people will think that you don't have to have an ID for the comment and you want to be very explicit with these updates that there needs to be an ID there so first thing I'm going to go I action result then we're going to go update go from Route and within the route we're going to have an INT of ID and then within the from body very similar to the previous update that we had before we're going to need to create an update for it and I would highly suggest creating different updates for each one of these so I'm going to go update request dto and we're going to call this the update dto okay and this hasn't actually been created so we're going to go to the comment we're going to call this update request uh update comment request dto update comment request dto and it's going to look exactly the same as the create comment and it's good even though that they are similar and we're kind of repeating ourself it's better to have these already hardcoded beforehand because I could almost bet you in any app that you work on these dto are going to be changing frequently you're going to have to make adjustments to them all the time so a lot of times it's not good to repeat yourself but in the terms of making these dto I think it's definitely worth it okay so we're going to go down here then uh have some curly braces let me make sure that this is okay this is definitely working so now what we need to do is we're going to go ahead we're going to go comment we'll go await comment repo and we do I'm almost like 100% sure of course we don't have the actual update so we're going to do the update async so go Within your comment repository and here's where we're going to create the update we're going to go ahead and just do the interface so we'll go task and the update can be null so we're going to go update we're going to make this nullable go uh update async and this update async is going to take in an ID and it's also going to take in a comment so we're going to go comment and we're going to say and it's going to take in the comment model make sure not to actually take in the comment dto so go here uh go to our repository we're going to get a red squiggly line control dot go ahead Implement that interface so let's go ahead down to the actual update or to update dto and we're going to go ahead and create this so go here and first things first we're going to have to get our existing comment so we'll say bar existing comment we need to check to make sure that the comment is already existing otherwise we're going to return null okay so go to here now we're going to go comments uh find a sync go ahead pass in the ID and we need to make this a sync also if it is null so check if existing comment is equal to null so if it is null we want to go ahead and return and we don't want to go any further so we're just going to go ahead return null right here after this we're going to get our existing comment so this is where we want to write on the object that we get back from the database net core or Entity framework I should say is going to start tracking it so we're going to go into here we're going to go comment model we're going to go title looking good existing comment and we'll go to content we need we only want to alter the content and the title we don't want to alter the date or anything so we go here and we'll go content the content is looking good so after this this is when we can actually apply the changes because our object has been changed so here and we've got our context then we're going to do our save changes async go ahead and run that we don't need to pass it anything and after this this is one we want to return the existing comment after we've went ahead and changed it okay so that is looking good now what we're going to do we're going to go back to our controller here and we need to pass it the ID and we also need to pass it the comment model so go into here we're going to go ID and here is where we're going to have to make a det we can't go ahead since this is a comment model we can't pass in the dto so we need to go ahead we need to make a mapper for this dto so I'm going to go right in here and it's going to be very similar to the one that we just created up above it's just going to be an update dto so we're going to go up here and we're going to call this to comment from update and I think you can kind of infer uh which which dto it is from the actual name I don't think we need to make it any more explicit than that so we're going to go up to here this is where we're going to say update comment request etto we're going to go ahead pass in the comment dto just like this also shout out to Alec Sandro melov uh we don't need the stock ID he pointed out this error right here so let's go ahead let's get rid of the stock ID and go ahead also make sure to get rid of it from the parameter make sure to get rid of it out of the actual body of the comment then we're going to go into here and we're going to pass in our update dto so we're going to go uh update dto then we're going to go to comment from update just like this and that's what we want also one last other thing is I found an error uh actually a couple of videos down the line make sure to add the ID to the top right here and you guys will be good to go so next what we want to do is we want to check so if comment is equal to null we'll go ahead and we'll say not found and we'll say comment not found and that should be explicit enough for anybody that's getting the data back to know what happened then we'll say return okay is equal to the comment model so we'll say comment is equal to to comment dto and I guess we don't really even have to put that there but I think it's pro it'll probably make it look a little bit nicer okay so looking good also forgot to add the return here so let's go ahead and restart this netwatch run and we've got our Swagger open let's get a comment that we could change so let's go for and instead of title comment title content let's change it to something more realistic so go here I'm going to change this to four the title is Apple we'll say apple is the best stock which it kind of really is apple is the best stock there we go so let's go ahead execute looking good let's check to make sure that it actually changed up here and Apple title apple apple is the best stock anyways hope that you guys enjoyed this onto delete make sure to smash that like button smash that subscribe button and as always thank you for watching